@import '../../styles/animations';
@import '../../styles/fonts';
@import '../../styles/ms';
@import '../../styles/mq';

.the-end {
  width: 100%;
  margin: msRem(14) 0 0;
  text-align: center;

  @media #{$mq-desktop-up} {
    text-align: right;
  }

  &__text {
    display: inline-block;
    padding: 0 4px;
    font: 17px $ff-headings;
    transition: all 400ms 300ms $easeOutBack;
  }

  &__heart {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    margin-left: 10px;
    vertical-align: middle;
    background: rgba(255, 52, 52, .2);
    border-radius: 50%;
    transition: all 300ms 300ms $easeOutBack;

    svg {
      position: relative;
      top: 1px;
      display: inline-block;
      width: 20px;
      height: auto;
      transition: all 200ms 600ms $easeOutBack;
    }
  }

  &__heart-animate {
    transform: translateX(-19px); // correct for the slight offset
  }

  &--not-in-view &__heart-animate {
    transform: translateX(-1469px);
  }

  &--not-in-view &__text {
    opacity: .1;
  }

  &--not-in-view &__heart {
    transform: scale(.5);
    opacity: 0;
  }

  &--not-in-view &__heart svg {
    transform: scale(.5);
    opacity: 0;
  }

  &--in-view &__heart-animate {
    animation: heart-colors 2s 1s 3 both linear;
  }
}

@keyframes heart-colors {
  from {
    transform: translateX(-1469px);
  }
}
